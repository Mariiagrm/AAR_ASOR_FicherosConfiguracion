services:
  # ---------------- SERVIDOR CORREO ----------------
  # mail:
  #   image: docker.io/mailserver/docker-mailserver:latest
  #   container_name: dorayaki-mail
  #   hostname: mail
  #   domainname: dorayaki.org
  #   restart: unless-stopped

  #   # Puertos expuestos desde el contenedor hacia el host
  #   ports:
  #     - "25:25"     # SMTP
  #     - "587:587"   # Submission (SMTP autenticado con STARTTLS)
  #     - "143:143"   # IMAP
  #     - "993:993"   # IMAPS
  #     - "110:110"   # POP3
  #     - "995:995"   # POP3S
    
  #   environment:
  #     - SSL_TYPE=none          # Desactiva TLS
  #     - ENABLE_SPAMASSASSIN=0  # Opcional: desactiva antispam
  #     - ENABLE_CLAMAV=0        # Opcional: desactiva antivirus
  #     - ENABLE_POSTGREY=0      # Opcional: desactiva greylisting
  #     - ONE_DIR=1              # Simplifica estructura de mail
  #     - DMS_DEBUG=0            # Desactiva modo debug
    
  #   volumes:
  #     - ./correo/maildata:/var/mail
  #     - ./correo/mailstate:/var/mail-state
  #     - ./correo/config:/tmp/docker-mailserver


  # ---------------- SERVIDOR DNS ----------------
  bind:
    image: internetsystemsconsortium/bind9:9.20
    container_name: bind_dns
    restart: always

    network_mode: host

    volumes:
      - ./dns/bind:/etc/bind      # Configuraci√≥n y zonas
      - bind_cache:/var/cache/bind

volumes:
  bind_cache:
